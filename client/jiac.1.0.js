var jiac=Object.create(null);!function(o){var n=window.require=l(location.href.substring(0,location.href.lastIndexOf("/"))),a=o.modules=Object.create(null),i=o.sources=Object.create(null),u=o.languages=Object.create(null),s=o.versions=Object.create(null),r=Object.create(null),c=Object.create(null);function l(e){function n(e,t){return o.loadModule(n.base,e,t)}return n.base=n.baseURL=e,n.runAsThread=t,n}function t(e){return new o.Thread(n.base,this.base,e)}function p(e,t,n){var r,s,a,u=i[e]||f(e);switch(t){case".css":return function(e){var t=document.createElement("style"),n=o.color;t.setAttribute("type","text/css"),e=e.replace(/@([\w-]+)/g,function(e,t){return n&&n[t]||e}),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e));document.head.appendChild(t)}(u),{exports:u};case".js":return h(u,e,n);case".json":return{exports:u=u?JSON.parse(u):null};case".html":return!1===n?{exports:u}:(/^\s*</.test(u)&&(u=o.template(u)),{exports:(r=e,s=u,a=['var __dirname = "'+r.substring(0,r.lastIndexOf("/")+1)+'";\n',"var __k = jiac.classes;\n","var color = jiac.color;\n\n","with(data)\n{\n","return ",s,"\n}\n\n//# sourceURL=",r],new Function("data",a.join("")))});default:return{exports:u}}}function f(e){var t,n=new XMLHttpRequest,r=s[e];return r||(r=[Math.random(),Math.random()].join("").replace(/0./g,"")),n.open("GET",e+"?v="+r,!1),n.onreadystatechange=function(){if(4===this.readyState){if(!(this.status<300))throw this.statusText;t=this.responseText,this.onreadystatechange=null}},n.send(null),t}function h(e,t,n){var r={exports:{}};return e&&(e=e+"\n//# sourceURL="+t,!1===n?eval.call(window,r.exports.text=e):new Function(["require","exports","module","modules"],e)(l(t.substring(0,t.lastIndexOf("/")+1)),r.exports,r,a)),r}function d(e,t){var n;for(var r in t)(n=t[r])&&"object"==typeof n?d(e[r]||(e[r]={}),n):e[r]=n}function g(e,t){return"/"===t[0]?(e=n.base)+("/"===e[e.length-1]?t.substring(1):t):(t=("/"===e[e.length-1]?e:e+"/")+t,r[t]||(r[t]=function(e){for(var t;(t=e.replace(/[^/]*\/\.\.\//,""))!==e;)e=t;return e.replace(/[.]+\//g,"")}(t)))}o.absoluteUrl=g,o.loadModule=function(e,t,n){var r,s=c[t];return s?(t=s[1],s=s[0]):(s=t.match(/\.\w+$/))?c[t]=[s=s[0].toLowerCase(),t]:c[t]=[s=".js",t+=".js"],t=g(e,t),(r=a[t])?r.exports:(r=0<=t.indexOf("{{language}}")?(u[t]=s,t.replace("{{language}}",o.language)):t,(a[t]=p(r,s,n)).exports)},o.cache=function(e,t){t&&"string"==typeof t&&(i[g(n.base,e)]=t)},o.language=navigator.language||navigator.userLanguage||"en-US",o.switchLanguage=function(e){for(var t in o.language=e,o.i18n=u[e]||u["en-US"],u){var n=t.replace("{{language}}",e),r=i[n]||f(n);switch(u[t]){case".js":r=h(r,n).exports;break;case".json":r=r?JSON.parse(text):null}d(a[t].exports,r)}}}(jiac),jiac.Thread=function(){var p,a=1,s=""+function(){var e=Object.create(null),n=e.require=c(base),a=e.modules=Object.create(null),r=Object.create(null),u=Object.create(null),o=Object.create(null);function i(e,t){return"/"===t[0]?root+t:(t=("/"===e[e.length-1]?e:e+"/")+t,r[t]||(r[t]=function(e){for(var t;(t=e.replace(/[^/]*\/\.\.\//,""))!==e;)e=t;return e.replace(/[.]+\//g,"")}(t)))}function s(e,t,n){var r,s=u[t];return s?(t=s[1],s=s[0]):(s=t.match(/\.\w+$/))?u[t]=[s=s[0].toLowerCase(),t]:u[t]=[s=".js",t+=".js"],t=i(e,t),(r=a[t])?r.exports:(a[t]=function(e,t,n){var r=o[e]||function(e){var t,n=new XMLHttpRequest,r=p[e];r||(r=[Math.random(),Math.random()].join("").replace(/0./g,""));return n.open("GET",e+"?v="+r,!1),n.onreadystatechange=function(){if(4===this.readyState){if(!(this.status<300))throw this.statusText;t=this.responseText,this.onreadystatechange=null}},n.send(null),t}(e);switch(t){case".js":return function(e,t,n){var r={exports:{}};e&&(e=e+"\n//# sourceURL="+t,!1===n?eval.call(self,r.exports.text=e):new Function(["require","exports","module","modules"],e)(c(t.substring(0,t.lastIndexOf("/")+1)),r.exports,r,a));return r}(r,e,n);case".json":return{exports:r=r?JSON.parse(r):null};default:return{exports:r}}}(t,s,n)).exports}function c(e){function n(e,t){return s(n.base,e,t)}return n.base=n.baseURL=e,n}function l(e,t,n){self.postMessage(JSON.stringify([e,t,n]))}return p=p?JSON.parse(p):{},e.cache=function(e,t){t&&"string"==typeof t&&(o[i(n.base,e)]=t)},self.addEventListener("message",function(e){var t,n,r=this,s=e.data,a=s.uuid,u=s.method,o=0,i=u.split(".");try{for(t=i.pop();r&&(n=i[o++]);)r=r[n];if(r&&(n=r[t]))if(i=s.args||[],s.async)i.push(function(e,t){l(a,e,t)}),n.apply(r,i);else try{l(a,n.apply(r,i))}catch(e){l(a,null,e)}else l(a,null,'not support method "'+u+'"!')}catch(e){l(a,null,e)}}),n};function e(e,t,n){var r=["var require = function (self, root, base, versions) {\n",s,'\n}(self, "',"/"!==e[e.length-1]?e:e.slice(0,-1),'", "',t,'", "',p||(p=JSON.stringify(jiac.versions)),'");\n\n\n\n\n'];"string"==typeof n?r.push('require("'+n+'", false);'):r.push(""+n),r=[r.join("")],this.queue=[],this.worker=new Worker(URL.createObjectURL(new Blob(r))),this.worker.onmessage=function(e){var t;if(t=e.data)for(var n,r=this.queue,s=0,a=(t=JSON.parse(t))[0];n=r[s];){if(n===a)return r[s+1].call(this,t[1],t[2]),void r.splice(s,2);s+=2}}.bind(this)}return s=(s=s.substring(s.indexOf("{")+1)).substring(0,s.lastIndexOf("}")),e.prototype.exec=function(e,t,n,r){if(e){var s=a++;this.queue.push(s,n),this.worker.postMessage({uuid:s,method:e,args:t,async:r})}},e.prototype.terminate=function(){this.worker.terminate()},e}(),function(){function d(e,t,n){var r,s,a,u,o,i,c,l=t.attributes,p=t.tagName;switch(p){case"R":case"Ref":case"Require":case"Reference":e.push(n,'"Class": jiac.loadModule(__dirname, "',t.getAttribute("src"),'")'),t.removeAttribute("src");break;case"HTML":case"HtmlControl":e.push(n,'"Class": __k.HtmlControl,\n'),e.push(n,'"html": \'',(t.innerHTML||t.textContent).replace(/[\r\n]\s*/g,"").replace(/'/g,"\\'"),"'"),t=null;break;default:e.push(n,'"Class": __k.',p)}if(l&&l[0]){for(var f=0,h=l.length;f<h;f++)if(s=(r=l[f]).nodeName,a=r.nodeValue,"style"!==s){if("-"===s[1]){if(c=s[0],s=s.substring(2),"d"===c){e.push(",\n",n,'"',s,'": ',a);continue}if("b"===c){u?u.push(s,a):u=[s,a];continue}if("e"===c){i?i.push(s,a):i=[s,a];continue}}e.push(",\n",n,'"',s,'": "',a,'"')}else g(o||(o=[]),a,n+"\t");o&&(e.push(",\n",n,'"style": {',o.join("")),(c=o.bindings)&&e.push(o[0]?",\n":"",n,'\t"bindings": {\n',c.join(""),"\n",n,"\t}"),e.push("\n",n,"}")),u&&(e.push(",\n",n,'"bindings": {'),function(e,t,n){var r,s=0;for(;r=t[s++];)1<s&&e.push(","),e.push("\n",n,'"',r,'": "',t[s++],'"')}(e,u,n+"\t"),e.push("\n",n,"}")),i&&(e.push(",\n",n,'"events": {'),function(e,t,n){var r,s=0;for(;r=t[s++];)1<s&&e.push(","),e.push("\n",n,'"',r,'": data.',t[s++])}(e,i,n+"\t"),e.push("\n",n,"}"))}t&&(t=t.firstChild)&&("Repeater"===p?function(e,t,n){do{if(1===t.nodeType)return e.push(",\n",n,"\ttemplate: {\n"),d(e,t,n+"\t\t"),e.push("\n",n,"\t}")}while(t=t.nextSibling)}(e,t,n):function(e,t,n){var r;for(;1===t.nodeType&&(r?e.push(","):(e.push(",\n",n,'"children": ['),r=1),e.push("\n",n,"\t{\n"),d(e,t,n+"\t\t"),e.push("\n",n,"\t}")),t=t.nextSibling;);r&&e.push("\n",n,"]")}(e,t,n))}function g(e,t,n){for(var r,s,a,u,o=t.split(";"),i=0,c=o.length;i<c;i++)if((r=o[i])&&0<(s=r.indexOf(":"))){if(a=r.substring(0,s),!(r=r.substring(s+1)))continue;u?e.push(","):u=1,e.push("\n",n,'"',a,'": ','"'+r+'"')}}jiac.template=function(e){var t=["{\n"];return d(t,(new DOMParser).parseFromString(e,"text/xml").documentElement,"\t"),t.push("\n};"),t.join("")}}();